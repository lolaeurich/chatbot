<?php
/**
 * The template for displaying the footer.
 *
 * Contains the body & html closing tags.
 *
 * @package HelloElementor
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit; // Exit if accessed directly.
}

if ( ! function_exists( 'elementor_theme_do_location' ) || ! elementor_theme_do_location( 'footer' ) ) {
	if ( hello_elementor_display_header_footer() ) {
		if ( did_action( 'elementor/loaded' ) && hello_header_footer_experiment_active() ) {
			get_template_part( 'template-parts/dynamic-footer' );
		} else {
			get_template_part( 'template-parts/footer' );
		}
	}
}
?>

<!-- WhatsApp Button -->
<div id="whatsapp-button">
    <a href="#" id="whatsapp-link">
        <img src="https://img.icons8.com/?size=100&id=ZeQPTbzIF4jw&format=png&color=F63584" alt="WhatsApp" />
    </a>
</div>

<!-- Chat Box -->
<div id="chat-box" style="display: none;">
    <div id="chat-header">Fale com a PrevX Assessoria</div>
    <div id="chat-messages">
        <div class="message agent">
            <span class="text">Seja bem-vinda √† PrevX Assessoria! üå∏ Com mais de 60 mil m√£es atendidas e 15 anos no mercado, temos orgulho de nossos 98,7% de sucesso na libera√ß√£o do aux√≠lio-maternidade.</span>
            <img src="https://i.ibb.co/G0XsvfW/Whats-App-Image-2025-01-09-at-10-47-53.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-left: 10px;" />
        </div>
        
    </div>
    <div id="chat-input">
        <input type="text" id="message-input" placeholder="Digite uma mensagem..." />
        <button id="send-button">Enviar</button>
    </div>
</div>

<!-- CSS -->
<style>
#whatsapp-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
}

#whatsapp-button img {
    width: 60px; /* Ajuste o tamanho conforme necess√°rio */
    height: 60px; /* Ajuste o tamanho conforme necess√°rio */
	 transform: scaleX(-1); /* Espelha a imagem horizontalmente */
}

#chat-box {
    position: fixed;
    bottom: 90px; /* Ajuste para cima do bot√£o */
    right: 20px;
    width: 310px; /* Largura da caixa de chat */
    height: 495px; /* Altura da caixa de chat */
    background: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png') no-repeat center center;
    background-size: cover;
    border: 1px solid #ccc;
    border-radius: 5px;
    z-index: 999;
    overflow: hidden;
    display: flex;
    flex-direction: column; /* Para empilhar os elementos verticalmente */
}

#chat-header {
    background: #FEB5D3; /* Cor do cabe√ßalho do WhatsApp */
    color: #fff;
    padding: 10px;
    text-align: center;
    font-weight: bold;
}

#chat-messages {
    padding: 10px;
    height: 395px; /* Ajuste a altura para deixar espa√ßo para as mensagens */
    overflow-y: auto; /* Rolagem vertical */
}

.message {
    display: flex;
    align-items: flex-start;
    margin-bottom: 10px;
	margin-top: 10px;
}

.message.user {
    justify-content: flex-start; /* Alinha as mensagens do usu√°rio √† esquerda */
}

.message.agent {
    justify-content: flex-end; /* Alinha as mensagens do agente √† direita */
}

.avatar {
    width: 40px; /* Tamanho do avatar */
    height: 40px; /* Tamanho do avatar */
    margin-left: 10px; /* Margem √† esquerda do avatar */
}

.text {
    background: #fff; /* Fundo da mensagem */
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    max-width: 205px; /* Largura m√°xima da mensagem */
}

.typing-indicator {
    font-style: italic;
    color: #888;
}

#chat-input {
    display: flex;
    border-top: 1px solid #ccc;
    padding-inline: 5%;
}

#chat-input input {
    flex: 1; /* Ocupa o espa√ßo restante */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-right: 10px; /* Margem √† direita do input */
}

#chat-input button {
    background: #FEB5D3; /* Cor do bot√£o */
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 15px;
    cursor: pointer;
    transition: background 0.3s;
}

#chat-input button:hover {
    background: #128C7E; /* Cor do bot√£o ao passar o mouse */
}
	
	#whatsapp-button {
    z-index: 9999;
}

#buttons-container {
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    margin-top: 10px;
    margin-bottom: 10px;
    row-gap: 5px;
    align-items: center;
}
	
	#buttons-container button {
        margin-bottom: 5px;
    width: 70%;
    border-radius: 15px;
    height: 26px;
    border: none;
    background-color: lightpink;
    color: black;
    font-weight: bold;
}
</style>

<!-- JavaScript -->
<script>
var messages = []; // Array para armazenar as mensagens da conversa
var userData = {
    nome: null,
    telefone: null,
    solicitacao: null,
    gravida: null,
    meses_gravidez: null,
    contrato_trab: null,
    filho_menor: false,
    desempregada: false,
    trab_anterior: false
}; // Objeto para armazenar os dados do usu√°rio

document.getElementById('whatsapp-link').onclick = function(event) {
    event.preventDefault();
    openChat();
};

// Seleciona todos os bot√µes do Elementor
var buttons = document.querySelectorAll('.elementor-button');
buttons.forEach(function(button) {
    button.onclick = function(event) {
        event.preventDefault();
        openChat();
    };
});

function openChat() {
    var chatBox = document.getElementById('chat-box');
    if (chatBox.style.display === "none") {
        chatBox.style.display = "block";

        // Mensagem de "digitando" aparece
        var typingIndicator = document.createElement('div');
        typingIndicator.classList.add('typing-indicator');
        typingIndicator.innerText = "Consultor digitando...";
        document.getElementById('chat-messages').appendChild(typingIndicator);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;

        // Mensagem inicial do consultor
        setTimeout(function() {
            document.getElementById('chat-messages').removeChild(typingIndicator);
            showAgentMessage("Estamos prestes a te transferir para um de nossos especialistas, que verificar√° seu direito e explicar√° os documentos necess√°rios para liberar os valores para sua conta banc√°ria.");
            
            // Mensagens intermedi√°rias
            setTimeout(function() {
                showAgentMessage("Mas faremos algumas perguntas antes, para saber se voc√™ atende os pr√©-requisitos para receber o benef√≠cio.");

                setTimeout(function() {
                    showAgentMessage("Vamos come√ßar com a primeira:");
                    
                    // Chama a pr√≥xima pergunta
                    setTimeout(() => askName(), 6000);
                }, 6000); // Tempo entre mensagens
            }, 6000); // Tempo entre mensagens
        }, 6000); // Tempo para digitar
    } else {
        chatBox.style.display = "none";
    }
}



function addWhatsAppButton() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Indique uma m√£e';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%252C%20acessei%20o%20site%20e%20infelizmente%20n%C3%A3o%20sou%20qualificada%20para%20receber%20o%20aux%C3%ADlio%252C%20mas%20gostaria%20de%20saber%20como%20posso%20indicar%20a%20Materna%20Prev%20para%20outras%20m%C3%A3es.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	
	function addBtnContinuar() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Fale com um atendente';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%2C%20acesse%20o%20site.%20J%C3%A1%20fiz%20minha%20an%C3%A1lise%20com%20a%20Materna%20Prev%20anteriormente.%20Gostaria%20de%20continuar%20meu%20atendimento.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	
	function addIndicacao() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Saiba como indicar uma m√£e';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%252C%20acessei%20o%20site%20e%20infelizmente%20n%C3%A3o%20sou%20qualificada%20para%20receber%20o%20aux%C3%ADlio%252C%20mas%20gostaria%20de%20saber%20como%20posso%20indicar%20a%20Materna%20Prev%20para%20outras%20m%C3%A3es.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	function addDesempregada() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Fale com um especialista';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%2C%20%20acessei%20o%20site.%20Sou%20m%C3%A3e%20e%20estava%20desempregada%20no%20momento%20do%20nascimento%20da%20crian%C3%A7a.%20J%C3%A1%20trabalhei%20com%20registro%20em%20carteira%20antes%20do%20nascimento%20do%20beb%C3%AA.%20Gostaria%20de%20solicitar%20a%20ajuda%20de%20um%20especialista%20no%20requerimento%20do%20aux%C3%ADlio%20maternidade.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
		function addSouGestante() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Fale com um especialista';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%2C%20acessei%20o%20site.%20Sou%20gestante%20e%20n%C3%A3o%20tenho%20registro%20em%20carteira.%20Gostaria%20de%20falar%20com%20um%20atendente%20para%20saber%20como%20posso%20solicitar%20o%20aux%C3%ADlio%20maternidade.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para mostrar mensagens do agente
function showAgentMessage(text) {
    var agentMessageContainer = document.createElement('div');
    agentMessageContainer.classList.add('message', 'agent');

    var agentTextSpan = document.createElement('span');
    agentTextSpan.classList.add('text');
    agentTextSpan.innerText = text;

    var agentAvatar = document.createElement('img');
    agentAvatar.src = "https://i.ibb.co/G0XsvfW/Whats-App-Image-2025-01-09-at-10-47-53.jpg";
    agentAvatar.classList.add('avatar');
    agentAvatar.style.cssText = "width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-left: 10px;"; 

    agentMessageContainer.appendChild(agentTextSpan);
    agentMessageContainer.appendChild(agentAvatar);
    document.getElementById('chat-messages').appendChild(agentMessageContainer);
    
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para perguntar o nome do usu√°rio
function askName() {
    showAgentMessage("Primeiro, nos informe seu nome.");
}

// Fun√ß√£o para enviar a mensagem do usu√°rio
document.getElementById('send-button').onclick = function() {
    var input = document.getElementById('message-input');
    var messageText = input.value;
    if (messageText.trim() !== '') {
        addUserMessage(messageText);
        input.value = '';
    }
}

// Fun√ß√£o para adicionar a mensagem do usu√°rio
function addUserMessage(messageText) {
    var messageContainer = document.createElement('div');
    messageContainer.classList.add('user', 'message');
	
	 var avatar = document.createElement('img');
    avatar.src = "https://img.icons8.com/?size=100&id=SJ8MjTSUbDMh&format=png&color=000000";
    avatar.classList.add('avatar');
    
    var textSpan = document.createElement('span');
    textSpan.classList.add('text');
    textSpan.innerText = messageText;

	 messageContainer.appendChild(avatar);
    messageContainer.appendChild(textSpan);
    document.getElementById('chat-messages').appendChild(messageContainer);

    messages.push({ user: 'user', text: messageText });

    processUserResponse(messageText);
}

// 01 - Fun√ß√£o para processar a resposta do usu√°rio
function processUserResponse(messageText, idleadcontato) {
    if (!userData.nome) {
        userData.nome = messageText;
        userData.idleadcontato = idleadcontato; // Armazenando o ID do lead
        showAgentMessage(`Ok ${userData.nome}, pode me passar o n√∫mero do seu WhatsApp? Com o DDD junto, por favor! (ex: 41 999999999).`);
    } else if (!userData.telefone) {
        userData.telefone = messageText;
        console.log("Dados armazenados:", userData);
    showAgentMessage(`${userData.nome}, voc√™ est√° gr√°vida atualmente?`);
        askSolicitacao();
    }
}


// 01 - Fun√ß√£o para perguntar sobre a solicita√ß√£o anterior
function askSolicitacao() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    
    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function() {
        userData.solicitacao = true;
        handleGravidezResponse(true);
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function() {
        userData.solicitacao = false;
        handleSolicitacaoResponse(false);
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// 02 e 03 - Fun√ß√£o para lidar com a resposta sobre gravidez
function handleGravidezResponse(response) {
    clearPreviousButtons(); // Remove bot√µes anteriores

    if (response) {
        // Caso a resposta seja "Sim"
        showAgentMessage("Que maravilha! Que ele(a) nas√ßa com muita sa√∫de ü•∞...");

        setTimeout(() => {
            showAgentMessage("Voc√™ se encontra com quantos meses de gesta√ß√£o?");
            askMesesGestacao(); // Chama a pr√≥xima etapa
        }, 1000);
    } else {
        // Caso a resposta seja "N√£o"
        showAgentMessage("Voc√™ tem algum filho menor de 5 anos?");
        setTimeout(() => askFilhoMenor(), 1000); // Aguarda um pouco antes de chamar a pr√≥xima pergunta
    }
}


// 02 - Fun√ß√£o para perguntar sobre os meses de gesta√ß√£o
function askMesesGestacao() {
    clearPreviousButtons(); // Remove bot√µes anteriores

    const buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    buttonsContainer.style.display = 'grid';
    buttonsContainer.style.gridTemplateColumns = '1fr 1fr'; // Duas colunas
    buttonsContainer.style.gap = '10px'; // Espa√ßamento entre os bot√µes

    for (let i = 1; i <= 9; i++) {
        const button = document.createElement('button');
        button.innerText = `${i} ${i > 1 ? 'meses' : 'm√™s'}`;
        button.onclick = function () {
            userData.meses_gravidez = i; // Armazena o n√∫mero de meses
            handleMesesGestacaoResponse(i); // Processa a resposta
        };
        buttonsContainer.appendChild(button);
    }

    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// 04 - Fun√ß√£o para lidar com a resposta sobre os meses de gesta√ß√£o
function handleMesesGestacaoResponse(meses) {
    showAgentMessage(`Voc√™ respondeu: ${meses} ${meses > 1 ? 'meses' : 'm√™s'}.`);
    console.log("Dados armazenados:", userData);

    // Adicione aqui o pr√≥ximo fluxo baseado na resposta
    setTimeout(() => {
        showAgentMessage("Atualmente, voc√™ est√° empregada ou est√° desempregada?");
        askEmpregoStatus();
        // Continue o fluxo conforme necess√°rio
    }, 1000);
} 


// Fun√ß√£o para lidar com a resposta de solicita√ß√£o anterior
function handleSolicitacaoResponse(response) {
    clearPreviousButtons(); // Remove bot√µes anteriores

    if (response) {
        showAgentMessage("Entendido, vamos prosseguir com o atendimento.");
        // Adicione aqui a pr√≥xima l√≥gica, se necess√°rio
    } else {
        showAgentMessage("Desejamos que o seu maior presente esteja com muita sa√∫de, mam√£e!");
        showAgentMessage(`${userData.nome}, voc√™ tem alguma crian√ßa com menos de 5 anos de idade?`);
        setTimeout(() => askFilhoMenor(), 1000); // Pergunta sobre filhos menores de 5 anos
    }
}


// Fun√ß√£o para lidar com a resposta sobre filhos menores
function handleFilhoMenorResponse(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        // Se a resposta for "Sim", pergunta sobre o benef√≠cio
        showAgentMessage("J√° chegou a receber o benef√≠cio pelo nascimento do seu filho?");
        askBeneficioRecebido(); // Pergunta sobre o benef√≠cio
    } else {
        // Se a resposta for "N√£o", pergunta sobre o m√™s e ano do nascimento
        showAgentMessage(`Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter o aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!

        Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá`);

        // Cria o bot√£o verde para redirecionar para o WhatsApp
        var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    }
}



// Fun√ß√£o para lidar com a confirma√ß√£o da data de nascimento
function handleConfirmacaoData(response) {
    if (response) {
        showAgentMessage("Quando o seu pequeno nasceu, voc√™ trabalhava de carteira assinada?");
        askCarteiraAssinada1(); // Pergunta sobre carteira assinada
    
} else {
        showAgentMessage("Tudo bem, mam√£e! Preciso que dessa vez, coloque a data correta do nascimento do seu pequeno!");
        // Chama novamente a fun√ß√£o para inserir a data
        askNascimentoPrimogenito();
    }
}

// Fun√ß√£o para perguntar se trabalhava de carteira assinada
function askCarteiraAssinada1() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.carteira_assinada = true; // Define como verdadeiro
        handleCarteiraAssinadaResponse1(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.carteira_assinada = false; // Define como falso
        handleCarteiraAssinadaResponse1(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

function handleCarteiraAntesResponse1(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage(`Fant√°stico ${userData.nome}, agora resta poucos detalhes para finalizar a sua consulta!`);

        // Pergunta sobre seguro-desemprego
        setTimeout(() => {
            showAgentMessage("Quando voc√™ saiu do seu √∫ltimo emprego, chegou a receber o seguro desemprego?");
            askSeguroDesemprego1(); // Fun√ß√£o para criar bot√µes de resposta
        }, 2000);
    } else {
        showAgentMessage("Certo, mam√£e. Vamos continuar analisando a sua situa√ß√£o.");
    }
}

//1111
 function askSeguroDesemprego1() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'SIM';
    btnSim.onclick = function () {
        handleFluxo01(true);
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√ÉO';
    btnNao.onclick = function () {
        handleSeguroDesempregoResponse(false);
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


function handleFluxoNovo1(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage("Perfeito, agora preciso que nos informe qual foi o m√™s e ano que saiu do seu √∫ltimo emprego de carteira assinada. (Exemplo: 10/2023)");
        askFluxoNovo10(); // Chama a fun√ß√£o de ultimo emprego
    } else {
        showAgentMessage("Voc√™ possui carteira de trabalho f√≠sica ou digital?");
    }
}


// Fun√ß√£o para perguntar sobre o nascimento do primog√™nito
function askFluxoNovo10() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim(); // Obt√©m a resposta do usu√°rio

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.nascimento_primogenito = messageText;
            addUserMessage(messageText); // Adiciona a mensagem no chat
            input.value = ''; // Limpa o campo de entrada

            // Pergunta se a data est√° correta
            confirmDataSaiu();
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}

function confirmDataSaiu() {
    showAgentMessage("A data acima est√° correta, mam√£e?");
    
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    // Bot√£o Sim
    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        askFluxo02(true); // Confirma√ß√£o da data
    };
    buttonsContainer.appendChild(btnSim);

    // Bot√£o N√£o
    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        askFluxoNovo10(false); // Lida com a resposta "N√£o"
    };
    buttonsContainer.appendChild(btnNao);

    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}



function handleFluxo01(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage("Mam√£e, voc√™ tem carteira de trabalho digital ou f√≠sica, acesso ao aplicativo do INSS e sua rescis√£o contratual em m√£os?");
        confirmFluxo01(); // Chama a fun√ß√£o de ultimo emprego
    } else {
        showAgentMessage("Voc√™ possui carteira de trabalho f√≠sica ou digital?");
    }
}


function confirmFluxo01() {
    
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    // Bot√£o Sim
    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        showAgentMessage("Perfeito, agora preciso que nos informe qual foi o m√™s e ano que saiu do seu √∫ltimo emprego de carteira assinada. (Exemplo: 01/2023)")
        askFluxo02(true); // Confirma√ß√£o da data
    };
    buttonsContainer.appendChild(btnSim);

    // Bot√£o N√£o
    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        askFluxoNovo10(false); // Lida com a resposta "N√£o"
    };
    buttonsContainer.appendChild(btnNao);

    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para perguntar sobre o nascimento do primog√™nito
function askFluxo02() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim(); // Obt√©m a resposta do usu√°rio

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.nascimento_primogenito = messageText;
            addUserMessage(messageText); // Adiciona a mensagem no chat
            input.value = ''; // Limpa o campo de entrada

            showAgentMessage("Voc√™ foi demitida ou pediu as contas?");
            askFluxo03(); // Pr√≥xima pergunta (substitua por sua l√≥gica)
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}



function askFluxo03() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'FUI DEMITIDA';
    btnSim.onclick = function () {
        handleFluxo03(true);
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'PEDI AS CONTAS';
    btnNao.onclick = function () {
        handleMotivoSaidaResponse(false); //AJUSTAR
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


function handleFluxo03(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage("Voc√™ entrou ou entrar√° com um processo trabalhista contra a empresa por ter sa√≠do gestante?");
        askProcessoTrabalhista(); // Chama a fun√ß√£o de ultimo emprego
    } else {
        showAgentMessage("Voc√™ possui carteira de trabalho f√≠sica ou digital?");
    }
}


function handleFluxo02PediContas(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage("Voc√™ entrou ou entrar√° com um processo trabalhista contra a empresa por ter sa√≠do gestante?");
        askProcessoTrabalhista(); // Chama a fun√ß√£o de ultimo emprego
    } else {
        showAgentMessage("Voc√™ possui carteira de trabalho f√≠sica ou digital?");
    }
}


function askFluxo04() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'SIM';
    btnSim.onclick = function () {
        showAgentMessage(`Compreendo, ${userData.nome}. Para entender o seu caso da melhor forma, iremos entrar em contato com voc√™ atrav√©s um de nossos especialistas em processos de demiss√£o de mam√£es e gestantes. Ele entender√° todos os detalhes do seu caso, para  garantir que voc√™ conquiste a orienta√ß√£o mais adequada para assegurar o seu direito ao benef√≠cio.`);
        askHorario();
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√ÉO';
    btnNao.onclick = function () {
        askFluxo02(false); //AJUSTAR
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}





function handleSeguroDesempregoResponse(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage("J√° chegou a realizar o pagamento de, no m√≠nimo, 10 contribui√ß√µes?");
        askSaiuUltimoEmprego(); // Chama a fun√ß√£o de ultimo emprego
    } else {
        showAgentMessage("Voc√™ possui carteira de trabalho f√≠sica ou digital?");
        askCarteiraFluxoFinal();
    }
}




function askCarteiraFluxoFinal() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        clearPreviousButtons(); // Limpa os bot√µes anteriores
        showAgentMessage(`Qual foi o m√™s e o ano em que voc√™ saiu do trabalho antes do nascimento do seu pequeno? (Exemplo: 01/2023)`);
        setTimeout(() => askMesAnoUltimoEmprego03(), 1000); // Aguarda para chamar a pr√≥xima fun√ß√£o
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        clearPreviousButtons(); // Limpa os bot√µes anteriores
        showAgentMessage(`Qual foi o m√™s e o ano em que voc√™ saiu do trabalho antes do nascimento do seu pequeno? (Exemplo: 01/2023)`);
        askMesAnoUltimoEmprego03()
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}




// Fun√ß√£o para perguntar sobre o nascimento do primog√™nito
function askMesAnoUltimoEmprego03() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim(); // Obt√©m a resposta do usu√°rio

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.saiu_emprego = messageText;
            addUserMessage(messageText); // Adiciona a mensagem no chat
            input.value = ''; // Limpa o campo de entrada

            handleCompreendo()
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}


// Fun√ß√£o para lidar com a confirma√ß√£o da data de nascimento
function handleCompreendo(response) {
    if (response) {
        showAgentMessage("Compreendo");
        askCarteiraFluxoFinal()
    
} else {
        showAgentMessage("Tudo bem, mam√£e! Preciso que dessa vez, coloque a data correta do nascimento do seu pequeno!");
        // Chama novamente a fun√ß√£o para inserir a data
        askCarteiraFluxoFinal();
    }
}






function askSaiuUltimoEmprego() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        clearPreviousButtons(); // Limpa os bot√µes anteriores
        showAgentMessage(`Pode nos informar a data, por favor? (Exemplo: 06/2022):`);
        setTimeout(() => askMesAnoUltimoEmprego02(), 1000); // Aguarda para chamar a pr√≥xima fun√ß√£o
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        clearPreviousButtons(); // Limpa os bot√µes anteriores
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!");
    
        showAgentMessage("Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá");

        // Cria o bot√£o verde para redirecionar para o WhatsApp
var buttonSite = document.createElement('button');
buttonSite.innerText = 'Quero indicar!';
buttonSite.style.backgroundColor = '#d008f1';
buttonSite.style.color = 'white';
buttonSite.style.fontWeight = '700';
buttonSite.style.padding = '10px 20px';
buttonSite.style.border = 'none';
buttonSite.style.borderRadius = '5px';
buttonSite.style.cursor = 'pointer';

// Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
buttonSite.onclick = function() {
    var whatsappURL = `https://indica.prevxassessoria.com.br/`;
    window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
};

// Adiciona o bot√£o ao chat
document.getElementById('chat-messages').appendChild(buttonSite);
document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para perguntar sobre o nascimento do primog√™nito
function askMesAnoUltimoEmprego02() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim(); // Obt√©m a resposta do usu√°rio

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.saiu_emprego = messageText;
            addUserMessage(messageText); // Adiciona a mensagem no chat
            input.value = ''; // Limpa o campo de entrada

            showAgentMessage("A data acima est√° correta, mam√£e?");
            askNextQuestion(); // Pr√≥xima pergunta (substitua por sua l√≥gica)
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}

  // Fun√ß√£o para perguntar se a data informada est√° correta
  function confirmDataEmprego() {
    showAgentMessage("A data acima est√° correta, mam√£e?");
    
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        handleConfirmacaoData(true);
    };

    buttonsContainer.appendChild(btnSim);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}



  
 function askDocumentos() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        clearPreviousButtons(); // Limpa os bot√µes anteriores
        showAgentMessage(`${userData.nome}, qual seria o m√™s e o ano que voc√™ saiu do seu √∫ltimo trabalho ANTES do seu pequeno nascer? (exemplo: 06/2022)`);
        setTimeout(() => askMesAnoUltimoEmprego(), 1000); // Aguarda para chamar a pr√≥xima fun√ß√£o
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        clearPreviousButtons(); // Limpa os bot√µes anteriores
        showAgentMessage("Sem problemas, mam√£e. Voc√™ pode organizar os documentos e voltar para concluir.");
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


  
  function askMesAnoUltimoEmprego() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim();

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.ultimoEmprego = messageText;
            addUserMessage(messageText); // Adiciona a mensagem do usu√°rio ao chat
            input.value = ''; // Limpa o campo de entrada

            showAgentMessage("Compreendo.");
            setTimeout(() => {
                showAgentMessage("Voc√™ foi demitida ou pediu as contas?");
                askMotivoSaida(); // Chama a pr√≥xima pergunta
            }, 1000);
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}


  function clearPreviousButtons() {
    var buttonsContainer = document.getElementById('buttons-container');
    if (buttonsContainer) {
        buttonsContainer.remove(); // Remove o container de bot√µes
    }
}


  
  function askMotivoSaida() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnDemitida = document.createElement('button');
    btnDemitida.innerText = 'FUI DEMITIDA';
    btnDemitida.onclick = function () {
        handleMotivoSaidaResponse('demitida');
    };

    var btnPediConta = document.createElement('button');
    btnPediConta.innerText = 'PEDI AS CONTAS';
    btnPediConta.onclick = function () {
        handleMotivoSaidaResponse('pedi_as_contas');
    };

    buttonsContainer.appendChild(btnDemitida);
    buttonsContainer.appendChild(btnPediConta);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

  
  function handleMotivoSaidaResponse(motivo) {
    showAgentMessage(`Voc√™ respondeu: ${motivo === 'demitida' ? "FUI DEMITIDA" : "PEDI AS CONTAS"}`);
    console.log("Dados armazenados:", userData);

    if (motivo === 'demitida') {
        showAgentMessage("Voc√™ entrou ou entrar√° com um processo trabalhista contra a empresa por ter sa√≠do gestante?");
        askProcessoTrabalhista(); // Pergunta sobre o processo trabalhista
    } else {
        showAgentMessage("Mesmo pedindo as contas, √© obriga√ß√£o da empresa pagar verbas por conta que est√° gr√°vida. Voc√™ recebeu algum valor por este motivo espec√≠fico?");
        askPediuAsContas();
    }
}



function askPediuAsContas() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!");
        showAgentMessage(`Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá`);

// Cria o bot√£o verde para redirecionar para o WhatsApp
var buttonSite = document.createElement('button');
buttonSite.innerText = 'Quero indicar!';
buttonSite.style.backgroundColor = '#d008f1';
buttonSite.style.color = 'white';
buttonSite.style.fontWeight = '700';
buttonSite.style.padding = '10px 20px';
buttonSite.style.border = 'none';
buttonSite.style.borderRadius = '5px';
buttonSite.style.cursor = 'pointer';

// Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
buttonSite.onclick = function() {
    var whatsappURL = `https://indica.prevxassessoria.com.br/`;
    window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
};

// Adiciona o bot√£o ao chat
document.getElementById('chat-messages').appendChild(buttonSite);
document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        showAgentMessage("A data de sa√≠da de seu √∫ltimo emprego foi antes ou depois de setembro de 2023?");
        askSaidaParaReceber();
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


function askSaidaParaReceber() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Antes';
    btnSim.onclick = function () {
        showAgentMessage("Viu como foi r√°pido? Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
        
           // Cria o bot√£o verde para redirecionar para o WhatsApp
           var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20tenho%20uma%20crian√ßa%20com%20menos%20de%205%20anos.%20Quando%20ele%20nasceu%20eu%20n√£o%20estava%20com%20a%20carteira%20assinada,%20mas%20j√°%20a%20tive%20e%20recebi%20seguro%20desemprego. %20Fui%20eu%20quem%20pediu%20as%20contas%20no%meu%20√∫ltimo%20emprego,%20n√£o%20recebi%20valores%20pela%20gravidez%20e%20sa√≠%20antes%20de%20setembro%20de%202023. %20Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'Depois';
    btnNao.onclick = function () {
        showAgentMessage("Viu como foi r√°pido? Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
        
        // Cria o bot√£o verde para redirecionar para o WhatsApp
        var buttonWhatsApp = document.createElement('button');
     buttonWhatsApp.innerText = 'Fale com um especialista!';
     buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
     buttonWhatsApp.style.color = 'white';
     buttonWhatsApp.style.padding = '10px 20px';
     buttonWhatsApp.style.border = 'none';
     buttonWhatsApp.style.borderRadius = '5px';
     buttonWhatsApp.style.cursor = 'pointer';

     // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
     buttonWhatsApp.onclick = function() {
     var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
     var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20tenho%20uma%20crian√ßa%20com%20menos%20de%205%20anos.%20Quando%20ele%20nasceu%20eu%20n√£o%20estava%20com%20a%20carteira%20assinada,%20mas%20j√°%20a%20tive%20e%20recebi%20seguro%20desemprego. %20Fui%20eu%20quem%20pediu%20as%20contas%20no%meu%20√∫ltimo%20emprego,%20n√£o%20recebi%20valores%20pela%20gravidez%20e%20sa√≠%20depois%20de%20setembro%20de%202023. %20Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
     window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
 };

  // Adiciona o bot√£o ao chat
  document.getElementById('chat-messages').appendChild(buttonWhatsApp);
     document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


function askQuandoSaiu() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        showAgentMessage("Viu como foi r√°pido? Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
        
           // Cria o bot√£o verde para redirecionar para o WhatsApp
           var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20n√£o%20estou%20gr√°vida%20no%20momento%20mas%20tenho%20um%20filho%20com%20menos%20de%205%20anos.%20N√£o%20recebi%20o%20benef√≠cio%20pelo%20nascimento%20dele%20e%20n√£o%20trabalhava%20com%20carteira%20assinada%20na%20√©poca. Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        showAgentMessage("Viu como foi r√°pido? Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
    
          // Cria o bot√£o verde para redirecionar para o WhatsApp
          var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20n√£o%20estou%20gr√°vida%20no%20momento%20mas%20tenho%20um%20filho%20com%20menos%20de%205%20anos.%20N√£o%20recebi%20o%20benef√≠cio%20pelo%20nascimento%20dele%20e%20n√£o%20trabalhava%20com%20carteira%20assinada%20na%20√©poca. Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


  
  function askProcessoTrabalhista() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        showAgentMessage(`Compreendo, ${userData.nome}. Para entender o seu caso da melhor forma, iremos entrar em contato com voc√™ atrav√©s um de nossos especialistas em processos de demiss√£o de mam√£es e gestantes.`);
        
        setTimeout(() => {
            showAgentMessage('Ele entender√° todos os detalhes do seu caso, para garantir que voc√™ conquiste a orienta√ß√£o mais adequada para assegurar o seu direito ao benef√≠cio.');
        }, 4000);

        setTimeout(() => {
            showAgentMessage('Por favor, selecione o melhor hor√°rio para entrarmos em contato:');
        }, 2000); // Aumentando o tempo para 2 segundos para garantir que a mensagem anterior apare√ßa primeiro.

        // Usando setTimeout para chamar a fun√ß√£o askHorario ap√≥s as mensagens.
        setTimeout(() => {
            askHorario();
        }, 3000); // 3 segundos ap√≥s a √∫ltima mensagem, garantido que tudo foi mostrado antes
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        showAgentMessage("Viu como foi r√°pido? Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
        
            // Cria o bot√£o verde para redirecionar para o WhatsApp
            var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20n√£o%20estou%20gr√°vida%20no%20momento%20mas%20tenho%20um%20filho%20com%20menos%20de%205%20anos.%20N√£o%20recebi%20o%20benef√≠cio%20pelo%20nascimento%20dele%20e%20n√£o%20trabalhava%20com%20carteira%20assinada%20na%20√©poca. Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


  
// Fun√ß√£o para exibir a mensagem e o bot√£o do WhatsApp
function showWhatsAppButton() {
    // Exibe a mensagem para o usu√°rio
    showAgentMessage("Iremos te transferir para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");

    // Cria o bot√£o verde para redirecionar para o WhatsApp
    var buttonWhatsApp = document.createElement('button');
    buttonWhatsApp.innerText = 'Fale com um especialista!';
    buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
    buttonWhatsApp.style.color = 'white';
    buttonWhatsApp.style.padding = '10px 20px';
    buttonWhatsApp.style.border = 'none';
    buttonWhatsApp.style.borderRadius = '5px';
    buttonWhatsApp.style.cursor = 'pointer';

    // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
    buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var horarioSelecionado = userData.horario || 'n√£o especificado'; // Caso o hor√°rio ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20n√£o%20estou%20gr√°vida%20no%20momento%20mas%20tenho%20um%20filho%20com%20menos%20de%205%20anos.%20N√£o%20recebi%20o%20benef√≠cio%20pelo%20nascimento%20dele%20e%20n√£o%20trabalhava%20com%20carteira%20assinada%20na%20√©poca.%20Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!%20O%20hor√°rio%20que%20eu%20selecionei%20foi%20${encodeURIComponent(horarioSelecionado)}.`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

    // Adiciona o bot√£o ao chat
    document.getElementById('chat-messages').appendChild(buttonWhatsApp);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para perguntar sobre os hor√°rios
function askHorario() {
    clearPreviousButtons(); // Remove bot√µes anteriores

    const buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    buttonsContainer.style.display = 'grid';
    buttonsContainer.style.gridTemplateColumns = '1fr 1fr 1fr'; // 3 colunas para mais op√ß√µes vis√≠veis
    buttonsContainer.style.gap = '10px'; // Espa√ßamento entre os bot√µes

    const startHour = 7; // Come√ßando √†s 7h30
    const endHour = 17; // At√© as 17h30
    const interval = 30; // Intervalo de 30 minutos

    let hour = startHour;
    let minute = 30;

    // Gerando os hor√°rios de 30 em 30 minutos
    while (hour <= endHour) {
        const timeLabel = `${hour}:${minute < 10 ? '0' : ''}${minute}`;

        const button = document.createElement('button');
        button.innerText = timeLabel;
        button.onclick = function () {
            userData.horario = timeLabel; // Armazena o hor√°rio escolhido no userData

            // Ap√≥s escolher o hor√°rio, chama a fun√ß√£o do WhatsApp
            showWhatsAppButton();
        };

        buttonsContainer.appendChild(button);

        // Atualiza o minuto e hora para o pr√≥ximo intervalo
        minute += interval;
        if (minute === 60) {
            minute = 0;
            hour++;
        }
    }

    // Adicionando o bot√£o "Qualquer Op√ß√£o" com largura maior
    const anyOptionButton = document.createElement('button');
    anyOptionButton.innerText = 'Qualquer Op√ß√£o';
    anyOptionButton.style.gridColumn = 'span 2'; // Faz o bot√£o ocupar as 3 colunas
    anyOptionButton.style.width = '140%'; // Ajusta a largura do bot√£o "Qualquer Op√ß√£o"
    anyOptionButton.onclick = function () {
        userData.horario = 'Qualquer Op√ß√£o'; // Armazena a op√ß√£o "Qualquer Op√ß√£o" no userData

        // Ap√≥s escolher a op√ß√£o, chama a fun√ß√£o do WhatsApp
        showWhatsAppButton();
    };

    buttonsContainer.appendChild(anyOptionButton);

    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}




  
  
  // Fun√ß√£o para perguntar se trabalhava de carteira assinada
function askCarteiraAssinada() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.carteira_assinada = true; // Define como verdadeiro
        handleCarteiraAssinadaResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.carteira_assinada = false; // Define como falso
        handleCarteiraAssinadaResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre carteira assinada
function handleCarteiraAssinadaResponse1(response) {
    clearPreviousButtons(); // Remove os bot√µes anteriores
    if (response) {
        // Se a resposta for "Sim"
        showAgentMessage(`Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!`);
        showAgentMessage(`Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá`);

        // Cria o bot√£o verde para redirecionar para o WhatsApp
        var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;


    } else {
        // Se a resposta for "N√£o"
        showAgentMessage("Mam√£e, voc√™ chegou a ter carteira registrada ANTES do nascimento do seu filho?");
        askCarteiraAntes1(); // Pergunta sobre carteira assinada antes do nascimento
    }
}

// Fun√ß√£o para perguntar sobre carteira assinada antes do nascimento
function askCarteiraAntes1() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.carteira_antes = true; // Define como verdadeiro
        handleCarteiraAntesResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.carteira_antes = false; // Define como falso
        handleCarteiraAntesResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre carteira registrada antes do nascimento 1111
function handleCarteiraAntesResponse(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage(`Fant√°stico ${userData.nome}, agora resta poucos detalhes para finalizar a sua consulta!`);

        setTimeout(function () {
            showAgentMessage("Quando voc√™ saiu do seu √∫ltimo emprego, chegou a receber o seguro desemprego?");
            askSeguroDesemprego1(); // Pergunta sobre seguro-desemprego
        }, 2000);
    } else {
        showAgentMessage("Certo, mam√£e! Voc√™ j√° chegou a realizar alguma dessas contribui√ß√µes: Recolhimento para o INSS/ Carn√™s do INSS/ Sindicato de Pesca/ MEI/ Sindicato Rural?");
        askJaContribuiu();
    }
}



// Fun√ß√£o para remover bot√µes anteriores
function clearPreviousButtons() {
    var buttonsContainer = document.getElementById('buttons-container');
    if (buttonsContainer) {
        buttonsContainer.remove(); // Remove o container dos bot√µes
    }
}
  
  // Fun√ß√£o para perguntar sobre o seguro-desemprego
function askJaContribuiu() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.seguro_desemprego = true; // Define como verdadeiro
        handleSeguroDesempregoResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'Nunca Contribu√≠';
    btnNao.onclick = function () {
        userData.seguro_desemprego = false; // Define como falso
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!");
        showAgentMessage("Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá");

          // Cria o bot√£o verde para redirecionar para o WhatsApp
          var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;


    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para remover bot√µes anteriores
function clearPreviousButtons() {
    var buttonsContainer = document.getElementById('buttons-container');
    if (buttonsContainer) {
        buttonsContainer.remove(); // Remove o container dos bot√µes
    }
}
  
  // Fun√ß√£o para perguntar sobre o seguro-desemprego
function askSeguroDesemprego() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.seguro_desemprego = true; // Define como verdadeiro
        handleSeguroDesempregoResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.seguro_desemprego = false; // Define como falso
        handleSeguroDesempregoResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre o seguro-desemprego
// Fun√ß√£o para lidar com a resposta sobre o seguro-desemprego
//function handleSeguroDesempregoResponse(response) {
  //  showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    //console.log("Dados armazenados:", userData);

    //if (response) {
      //  showAgentMessage(
        //    "Mam√£e, voc√™ tem carteira de trabalho digital ou f√≠sica, acesso ao aplicativo do INSS e sua rescis√£o contratual em m√£os?"
        //);
        //askCarteiraTrabalho(); // Pergunta sobre os documentos
    //} else {
      //  showAgentMessage("Certo, mam√£e. Vamos continuar analisando a sua situa√ß√£o.");
    //}
//}

// Fun√ß√£o para perguntar sobre os documentos (Carteira de Trabalho, App INSS, Rescis√£o)
function askCarteiraTrabalho() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.documentos_disponiveis = true; // Define como verdadeiro
        handleDocumentosDisponiveisResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.documentos_disponiveis = false; // Define como falso
        handleDocumentosDisponiveisResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre a disponibilidade dos documentos
function handleDocumentosDisponiveisResponse(response) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    if (response) {
        showAgentMessage(
            `${userData.nome}, qual seria o m√™s e o ano que voc√™ saiu do seu √∫ltimo trabalho ANTES do seu pequeno nascer? (exemplo: 06/2022)`
        );
        setTimeout(() => askMesAnoUltimoEmprego(), 1000); // Chama a pr√≥xima pergunta
    } else {
        showAgentMessage("Sem problemas, mam√£e. Voc√™ pode organizar os documentos e voltar para concluir.");
    }



    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}



  
// Fun√ß√£o para perguntar sobre carteira assinada antes do nascimento
function askCarteiraAntes() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.carteira_antes = true; // Define como verdadeiro
        handleCarteiraAntesResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.carteira_antes = false; // Define como falso
        handleCarteiraAntesResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para remover bot√µes anteriores
function clearPreviousButtons() {
    var buttonsContainer = document.getElementById('buttons-container');
    if (buttonsContainer) {
        buttonsContainer.remove(); // Remove o container dos bot√µes
    }
}


// Fun√ß√£o para perguntar sobre o benef√≠cio recebido
function askBeneficioRecebido() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        userData.beneficio_recebido = true; // Define como verdadeiro
        handleBeneficioResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        userData.beneficio_recebido = false; // Define como falso
        handleBeneficioResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para perguntar sobre o nascimento do primog√™nito
function askNascimentoPrimogenito1() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim(); // Obt√©m a resposta do usu√°rio

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.nascimento_primogenito = messageText;
            addUserMessage(messageText); // Adiciona a mensagem no chat
            input.value = ''; // Limpa o campo de entrada

            showAgentMessage("Certo, vamos continuar com as pr√≥ximas perguntas.");
            askNextQuestion(); // Pr√≥xima pergunta (substitua por sua l√≥gica)
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}
  
  // Fun√ß√£o para lidar com a resposta sobre o benef√≠cio recebido
function handleBeneficioResponse(response) {
    if (response) {
        // Se a resposta for "Sim", o chatbot pode avan√ßar para outra l√≥gica (ajustar conforme necess√°rio)
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!");
        showAgentMessage("Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá");

          // Cria o bot√£o verde para redirecionar para o WhatsApp
          var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    } else {
        // Se a resposta for "N√£o", pergunta sobre o nascimento do primog√™nito
        showAgentMessage(`${userData.nome}, qual o m√™s e ano do nascimento do seu primog√™nito? (exemplo: 10/2020)`);
        askNascimentoPrimogenito(); // Chama a fun√ß√£o para processar a data
    }
}

// Fun√ß√£o para perguntar sobre o nascimento do primog√™nito
function askNascimentoPrimogenito() {
    document.getElementById('send-button').onclick = function () {
        var input = document.getElementById('message-input');
        var messageText = input.value.trim(); // Obt√©m a resposta do usu√°rio

        if (messageText.match(/^\d{2}\/\d{4}$/)) { // Valida o formato MM/AAAA
            userData.nascimento_primogenito = messageText;
            addUserMessage(messageText); // Adiciona a mensagem no chat
            input.value = ''; // Limpa o campo de entrada

            // Pergunta se a data est√° correta
            confirmDataNascimento();
        } else {
            showAgentMessage("Por favor, insira uma data v√°lida no formato MM/AAAA.");
        }
    };
}

// Fun√ß√£o para perguntar se a data informada est√° correta
function confirmDataNascimento() {
    showAgentMessage("A data acima est√° correta, mam√£e?");
    
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    // Bot√£o Sim
    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        handleConfirmacaoData(true); // Confirma√ß√£o da data
    };
    buttonsContainer.appendChild(btnSim);

    // Bot√£o N√£o
    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        handleConfirmacaoData(false); // Lida com a resposta "N√£o"
    };
    buttonsContainer.appendChild(btnNao);

    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}




// Fun√ß√£o para perguntar sobre gravidez
function askGravida() {
    clearPreviousButtons(); // Remove bot√µes anteriores, se necess√°rio

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function() {
        userData.gravida = true;
        handleGravidezResponse(true); // Chama a fun√ß√£o correta para lidar com a resposta "Sim"
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function() {
        userData.gravida = false;
        handleGravidezResponse(false); // Chama a fun√ß√£o correta para lidar com a resposta "N√£o"
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


  
  function askDataSaidaEmprego() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnAntes = document.createElement('button');
    btnAntes.innerText = 'Antes';
    btnAntes.onclick = function() {
        handleDataSaidaResponse('antes'); // Processa a resposta para "Antes"
    };

    var btnDepois = document.createElement('button');
    btnDepois.innerText = 'Depois';
    btnDepois.onclick = function() {
        handleDataSaidaResponse('depois'); // Processa a resposta para "Depois"
    };

    buttonsContainer.appendChild(btnAntes);
    buttonsContainer.appendChild(btnDepois);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

function handleDataSaidaResponse(response) {
    clearPreviousButtons(); // Remove os bot√µes anteriores

    if (response === 'antes') {
        showAgentMessage("A data de sa√≠da de seu √∫ltimo registro foi antes ou depois de setembro de 2022?");
        // Implementar a l√≥gica para essa pergunta, se necess√°rio
    } else if (response === 'depois') {
        showAgentMessage("√ìtimo, estamos quase l√°!");
        setTimeout(() => {
            showAgentMessage("Quando saiu do seu √∫ltimo emprego, chegou a receber as parcelas do seguro desemprego?");
            askSeguroDesemprego(); // Fun√ß√£o para lidar com a pergunta sobre seguro desemprego
        }, 1000);
    } 
}

// Fun√ß√£o para perguntar sobre o seguro-desemprego
function askSeguroDesemprego() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        handleSeguroDesempregoResponse(true); // Lidar com resposta "Sim"
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        handleSeguroDesempregoResponse(false); // Lidar com resposta "N√£o"
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre seguro-desemprego
//function handleSeguroDesempregoResponse(response) {
  //  clearPreviousButtons(); // Remove os bot√µes anteriores

    //if (response) { // Quando o usu√°rio seleciona "Sim"
      //  showAgentMessage("Mam√£e, voc√™ tem carteira de trabalho digital ou f√≠sica, acesso ao aplicativo do INSS e sua rescis√£o contratual em m√£os?");
        //askCarteiraDigital();
    //} else { // Quando o usu√°rio seleciona "N√£o"
      //  showAgentMessage("Tudo bem, vamos continuar analisando sua situa√ß√£o.");
        // Adicionar l√≥gica adicional caso necess√°rio
    //}
//}


// Fun√ß√£o para perguntar sobre o seguro-desemprego
function askCarteiraDigital() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function () {
        handleSeguroDesempregoResponse(true); // Lidar com resposta "Sim"
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function () {
        handleSeguroDesempregoResponse(false); // Lidar com resposta "N√£o"
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}




// Fun√ß√£o para adicionar o bot√£o do WhatsApp
function addWhatsAppButton() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center';

    var button = document.createElement('a');
    button.innerText = 'Fale com um atendente no WhatsApp';
    button.href = 'https://api.whatsapp.com/send?phone=SEUNUMEROAQUI&text=Ol√°,%20gostaria%20de%20continuar%20meu%20atendimento.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block';
    button.style.padding = '10px 20px';
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

  function handleDataSaidaAntesDepois(isAntes) {
    clearPreviousButtons();

    if (isAntes) {
        showAgentMessage("A data de sa√≠da de seu √∫ltimo registro foi antes ou depois de setembro de 2022?");
        askDataSaidaAntes2022();
    } else {
        showAgentMessage("√ìtimo, estamos quase l√°!");

        setTimeout(() => {
            showAgentMessage("Quando saiu do seu √∫ltimo emprego, chegou a receber as parcelas do seguro desemprego?");
            askSeguroDesempregoFinal();
        }, 1000);
    }
}

function askDataSaidaAntes2022() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnAntes = document.createElement('button');
    btnAntes.innerText = 'ANTES';
    btnAntes.onclick = function () {
        handleDataSaidaAntes2022(true); // Processa a resposta "Antes"
    };

    var btnDepois = document.createElement('button');
    btnDepois.innerText = 'DEPOIS';
    btnDepois.onclick = function () {
        handleDataSaidaAntes2022(false); // Processa a resposta "Depois"
    };

    buttonsContainer.appendChild(btnAntes);
    buttonsContainer.appendChild(btnDepois);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

function handleDataSaidaAntes2022(isAntes) {
    clearPreviousButtons();

    if (isAntes) {
        showAgentMessage("Entendido, agora precisamos de mais alguns detalhes para continuar sua an√°lise.");
        // Continue com o fluxo desejado
    } else {
        showAgentMessage("√ìtimo, estamos quase l√°!");

        setTimeout(() => {
            showAgentMessage("Quando saiu do seu √∫ltimo emprego, chegou a receber as parcelas do seguro desemprego?");
            askSeguroDesempregoFinal();
        }, 1000);
    }
}

function askSeguroDesempregoFinal() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'SIM';
    btnSim.onclick = function () {
        handleSeguroDesempregoFinal(true); // Processa a resposta "Sim"
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√ÉO';
    btnNao.onclick = function () {
        handleSeguroDesempregoFinal(false); // Processa a resposta "N√£o"
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

function handleSeguroDesempregoFinal(isSim) {
    clearPreviousButtons();

    if (isSim) {
        showAgentMessage("Viu como foi r√°pido? Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
        addWhatsAppButtonFinal();
    } else {
        showAgentMessage("Tudo bem, vamos verificar outras informa√ß√µes para prosseguir.");
        // Continue com o fluxo desejado
    }
}

function addWhatsAppButtonFinal() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center';

    var button = document.createElement('a');
    button.innerText = 'Fale com um especialista';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1,%20acessei%20o%20site%20e%20estou%20pronta%20para%20continuar%20minha%20consulta%20com%20um%20especialista.';
    button.target = '_blank';
    button.style.display = 'inline-block';
    button.style.padding = '10px 20px';
    button.style.backgroundColor = '#FF69B4';
    button.style.color = '#fff';
    button.style.borderRadius = '5px';
    button.style.textDecoration = 'none';

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

  
  
  // Fun√ß√£o para perguntar se est√° empregada ou desempregada
function askEmpregoStatus() {
    clearPreviousButtons(); // Remove bot√µes anteriores

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnEmpregada = document.createElement('button');
    btnEmpregada.innerText = 'ESTOU EMPREGADA';
    btnEmpregada.onclick = function () {
        handleEmpregoStatusResponse1(true);
    };

    var btnDesempregada = document.createElement('button');
    btnDesempregada.innerText = 'ESTOU DESEMPREGADA';
    btnDesempregada.onclick = function () {
        handleEmpregoStatusResponse1(false);
    };

    buttonsContainer.appendChild(btnEmpregada);
    buttonsContainer.appendChild(btnDesempregada);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre estar empregada ou desempregada
function handleEmpregoStatusResponse1(isEmpregada) {
    clearPreviousButtons();

    if (isEmpregada) {
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!");
        setTimeout(() => {
            showAgentMessage("Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá");
                // Cria o bot√£o verde para redirecionar para o WhatsApp
          var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
        }, 2000);
    } else {
        showAgentMessage("Voc√™ chegou a trabalhar em um local que registrou a sua carteira de trabalho?");
        askTrabalhoRegistrado(); // Pergunta sobre trabalho registrado
    }
}

// Fun√ß√£o para perguntar se trabalhou com carteira registrada
function askTrabalhoRegistrado() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'SIM';
    btnSim.onclick = function () {
        handleTrabalhoRegistradoResponse(true);
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√ÉO';
    btnNao.onclick = function () {
        handleTrabalhoRegistradoResponse(false);
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre trabalho registrado
function handleTrabalhoRegistradoResponse(isRegistrado) {
    clearPreviousButtons();

    if (isRegistrado) {
        showAgentMessage("Pode nos informar a data, por favor? Para isso, basta responder a pergunta abaixo:");
        setTimeout(() => {
            showAgentMessage("A data de sa√≠da de seu √∫ltimo emprego foi antes ou depois de setembro de 2023?");
            askDataTrabalhada(); // Pergunta sobre a data trabalhada
        }, 2000);
    } else {
        showAgentMessage("Certo, mam√£e! Voc√™ j√° chegou a realizar alguma dessas contribui√ß√µes: Recolhimento para o INSS/ Carn√™s do INSS/ Sindicato de Pesca/ MEI/ Sindicato Rural?");
        askContribuiu();
    }
}


// Fun√ß√£o para perguntar  se j√° contribuiu
function askContribuiu() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'SIM';
    btnSim.onclick = function () {
        handleContribuiuResponse(true);
    };

    var btnNunca = document.createElement('button');
    btnNunca.innerText = 'NUNCA CONTRIBU√ç';
    btnNunca.onclick = function () {
        handleContribuiuResponse(false);
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNunca);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para lidar com a resposta da data trabalhada
function handleContribuiuResponse(isSim) {
    clearPreviousButtons();

    if (isSim) {
        showAgentMessage("J√° chegou a realizar o pagamento de, no m√≠nimo, 10 contribui√ß√µes?"); //primeiro fluxo
        ask10Meses();
    } else {
        showAgentMessage("J√° chegou a realizar o pagamento de, no m√≠nimo, 10 contribui√ß√µes?");
        ask10Meses();
    }
}


// Fun√ß√£o para perguntar se j√° contribuiu 10 meses
function ask10Meses() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'SIM';
    btnSim.onclick = function () {
        handle10MesesResponse(true);
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√ÉO';
    btnNao.onclick = function () {
        handle10MesesResponse(false);
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para lidar com a resposta dos 10 meses trabalhados
function handle10MesesResponse(isSim) {
    clearPreviousButtons();

    if (isSim) {
        showAgentMessage("Os seus pagamentos foram feitos antes ou depois de setembro de 2023?"); 
        ask10Antes();
    } else {
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!");
    
        setTimeout(() => {
            showAgentMessage("Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá");

                 // Cria o bot√£o verde para redirecionar para o SITE
          var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
        }, 2000);
    }
}


// Fun√ß√£o para perguntar se pagou 10 contribui√ß√µes antes ou depois de setembro de 2023
function ask10Antes() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnAntes = document.createElement('button');
    btnAntes.innerText = 'ANTES';
    btnAntes.onclick = function () {
        handle10AntesResponse(true);
    };

    var btnDepois = document.createElement('button');
    btnDepois.innerText = 'DEPOIS';
    btnDepois.onclick = function () {
        handle10AntesResponse(false);
    };

    buttonsContainer.appendChild(btnAntes);
    buttonsContainer.appendChild(btnDepois);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para lidar com a resposta da data trabalhada
function handle10AntesResponse(isAntes) {
    clearPreviousButtons();

    if (isAntes) {
        showAgentMessage(`Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter o aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!

Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá`);

// Cria o bot√£o verde para redirecionar para o WhatsApp
var buttonSite = document.createElement('button');
buttonSite.innerText = 'Quero indicar!';
buttonSite.style.backgroundColor = '#d008f1';
buttonSite.style.color = 'white';
buttonSite.style.fontWeight = '700';
buttonSite.style.padding = '10px 20px';
buttonSite.style.border = 'none';
buttonSite.style.borderRadius = '5px';
buttonSite.style.cursor = 'pointer';

// Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
buttonSite.onclick = function() {
    var whatsappURL = `https://indica.prevxassessoria.com.br/`;
    window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
};

// Adiciona o bot√£o ao chat
document.getElementById('chat-messages').appendChild(buttonSite);
document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    } else {
        showAgentMessage("Perfeito Mam√£e! Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
    
        // Cria o bot√£o verde para redirecionar para o WhatsApp
        var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20estou%20gr√°vida%20e%20desempregada%20no%20momento.%20N√£o%20trabalhei%20com%20carteira%20registrada,%20mas%20j√°%20realizei%20no%20m√≠nimo%2010%20contribui√ß√µes%20ap√≥s%20setembro%20de%202023.%20Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    }
}



// Fun√ß√£o para perguntar a data trabalhada
function askDataTrabalhada() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnAntes = document.createElement('button');
    btnAntes.innerText = 'ANTES';
    btnAntes.onclick = function () {
        handleDataTrabalhadaResponse(true);
    };

    var btnDepois = document.createElement('button');
    btnDepois.innerText = 'DEPOIS';
    btnDepois.onclick = function () {
        handleDataTrabalhadaResponse(false);
    };

    buttonsContainer.appendChild(btnAntes);
    buttonsContainer.appendChild(btnDepois);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta da data trabalhada
function handleDataTrabalhadaResponse(isAntes) {
    clearPreviousButtons();

    if (isAntes) {
        showAgentMessage("A data de sa√≠da de seu √∫ltimo registro foi antes ou depois de setembro de 2022?"); //----------------
        setTimeout(() => {
            askDataTrabalhada2(); // Pergunta sobre a data trabalhada 2
        }, 2000);
    } else {
        showAgentMessage("Perfeito Mam√£e! Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");
    
        // Cria o bot√£o verde para redirecionar para o WhatsApp
        var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20estou%20gr√°vida%20e%20sa√≠%20do%20meu%20√∫ltimo%20emprego%20ap√≥s%20setembro%20de%202023.%20Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    }
}

// Fun√ß√£o para perguntar a data trabalhada 2
function askDataTrabalhada2() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnAntes = document.createElement('button');
    btnAntes.innerText = 'ANTES';
    btnAntes.onclick = function () {
        handleDataTrabalhada2Response(true);
    };

    var btnDepois = document.createElement('button');
    btnDepois.innerText = 'DEPOIS';
    btnDepois.onclick = function () {
        handleDataTrabalhada2Response(false);
    };

    buttonsContainer.appendChild(btnAntes);
    buttonsContainer.appendChild(btnDepois);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta da data trabalhada 2
function handleDataTrabalhada2Response(isAntes) {
    clearPreviousButtons();

    if (isAntes) {
        showAgentMessage("Entendi, constamos em nosso sistema que voc√™ n√£o atende os pr√©-requisitos para obter ao aux√≠lio-maternidade para essa crian√ßa. Mas n√£o desanime!"); 
        setTimeout(() => {
            showAgentMessage("Vou deixar um link onde pode ganhar at√© R$ 50 por indica√ß√£o üëá"); 

                        // Cria o bot√£o verde para redirecionar para o SITE
          var buttonSite = document.createElement('button');
        buttonSite.innerText = 'Quero indicar!';
        buttonSite.style.backgroundColor = '#d008f1';
        buttonSite.style.color = 'white';
        buttonSite.style.fontWeight = '700';
        buttonSite.style.padding = '10px 20px';
        buttonSite.style.border = 'none';
        buttonSite.style.borderRadius = '5px';
        buttonSite.style.cursor = 'pointer';

        // Ao clicar, redireciona para o site com a mensagem pr√©-preenchida
        buttonSite.onclick = function() {
            var whatsappURL = `https://indica.prevxassessoria.com.br/`;
            window.open(whatsappURL, '_blank'); // Abre o Site em uma nova aba
        };

        // Adiciona o bot√£o ao chat
        document.getElementById('chat-messages').appendChild(buttonSite);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
        }, 2000);
    } else {
        showAgentMessage("Perfeito Mam√£e!  Agora estamos te transferindo para um de nossos atendentes para continuar com a sua consulta atrav√©s do WhatsApp.");

        
        // Cria o bot√£o verde para redirecionar para o WhatsApp
        var buttonWhatsApp = document.createElement('button');
        buttonWhatsApp.innerText = 'Fale com um especialista!';
        buttonWhatsApp.style.backgroundColor = '#25D366'; // Cor verde do WhatsApp
        buttonWhatsApp.style.color = 'white';
        buttonWhatsApp.style.padding = '10px 20px';
        buttonWhatsApp.style.border = 'none';
        buttonWhatsApp.style.borderRadius = '5px';
        buttonWhatsApp.style.cursor = 'pointer';

        // Ao clicar, redireciona para o WhatsApp com a mensagem pr√©-preenchida
        buttonWhatsApp.onclick = function() {
        var nomeUsuario = userData.nome || 'Usu√°rio'; // Caso o nome ainda n√£o tenha sido capturado
        var whatsappURL = `https://wa.me/5511975242253?text=Oi%2C%20meu%20nome%20√©%20${encodeURIComponent(nomeUsuario)},%20estou%20gr√°vida,%20sa√≠%20do%20meu%20√∫ltimo%20emprego%20antes%20de%20setembro%20de%202023,%20mas%20depois%20de%20setembro%20de%202022.%20Gostaria%20de%20ajuda%20para%20solicitar%20meu%20aux√≠lio-maternidade!`;
        window.open(whatsappURL, '_blank'); // Abre o WhatsApp em uma nova aba
    };

     // Adiciona o bot√£o ao chat
     document.getElementById('chat-messages').appendChild(buttonWhatsApp);
        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
    }
}




// Fun√ß√£o para perguntar sobre o tipo de carteira
function askTipoCarteira() {
    clearPreviousButtons();

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnFisica = document.createElement('button');
    btnFisica.innerText = 'F√çSICA';
    btnFisica.onclick = function () {
        handleTipoCarteiraResponse('fisica');
    };

    var btnNaoLembro = document.createElement('button');
    btnNaoLembro.innerText = 'N√ÉO ME LEMBRO';
    btnNaoLembro.onclick = function () {
        handleTipoCarteiraResponse('nao_lembro');
    };

    buttonsContainer.appendChild(btnFisica);
    buttonsContainer.appendChild(btnNaoLembro);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}

// Fun√ß√£o para lidar com a resposta sobre o tipo de carteira
function handleTipoCarteiraResponse(tipo) {
    clearPreviousButtons();

    if (tipo === 'fisica') {
        showAgentMessage("Perfeito, agora preciso que nos informe qual foi o m√™s e ano que saiu do seu √∫ltimo emprego de carteira assinada.");
    } else {
        showAgentMessage("Tudo bem, farei mais algumas perguntas para te ajudar a lembrar.");
        
        setTimeout(() => {
            showAgentMessage("A data de sa√≠da de seu √∫ltimo emprego foi antes ou depois de setembro de 2023?");
            askDataSaidaEmprego(); // Chama a fun√ß√£o para perguntar sobre a data de sa√≠da
        }, 1000);
    }
}
 

// Fun√ß√£o para adicionar o link de indica√ß√£o
function addIndicacao() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center';

    var button = document.createElement('a');
    button.innerText = 'Programa de Indica√ß√£o';
    button.href = 'https://linkdoindicacao.com'; // Substitua pelo link real
    button.target = '_blank';
    button.style.display = 'inline-block';
    button.style.padding = '10px 20px';
    button.style.backgroundColor = '#FF69B4';
    button.style.color = '#fff';
    button.style.borderRadius = '5px';
    button.style.textDecoration = 'none';

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}



// Exemplo das novas fun√ß√µes para cada fluxo
function askSaude7() {
      var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    buttonsContainer.style.backgroundColor = 'transparent'; // Fundo rosa
    buttonsContainer.style.padding = '5px'; // Espa√ßamento interno
    buttonsContainer.style.borderRadius = '10px'; // Bordas arredondadas

    var btnRegistro = document.createElement('button');
    btnRegistro.innerText = 'Trabalho COM registro em carteira';
    btnRegistro.style.display = 'block'; // Exibe como bloco
    btnRegistro.style.marginBottom = '10px'; // Espa√ßo entre os bot√µes
    btnRegistro.onclick = function() {
        userData.contrato_trab = 'registro'; // Armazena a resposta
        handleContratoResponse7(); // Processa a resposta
    };

    var btnSemRegistro = document.createElement('button');
    btnSemRegistro.innerText = 'Trabalho SEM registro em carteira';
    btnSemRegistro.style.display = 'block'; // Exibe como bloco
    btnSemRegistro.onclick = function() {
        userData.contrato_trab = 'sem registro'; // Armazena a resposta
        handleContratoResponse7(); // Processa a resposta
    };

    buttonsContainer.appendChild(btnRegistro);
    buttonsContainer.appendChild(btnSemRegistro);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	// Fun√ß√£o para lidar com a resposta sobre o tipo de contrato de trabalho
function handleContratoResponse7(idleadqualificado) {
    showAgentMessage(`Voc√™ respondeu: ${userData.contrato_trab === 'registro' ? "Trabalho COM registro em carteira" : "Trabalho SEM registro em carteira"}`);
    console.log("Dados armazenados:", userData);

    // Preenche os dados com nulo e false
    userData.meses_gravidez = null;
    userData.filho_menor = false;
    userData.desempregada = false;
    userData.trab_anterior = false;
	userData.agencia_origem = "Walfa1";

    // Verifica o tipo de contrato e gera a mensagem apropriada
    if (userData.contrato_trab === 'registro') {
        showAgentMessage(`Entendi ${userData.nome}, infelizmente, ao analisarmos sua situa√ß√£o atual, voc√™ n√£o pode receber aux√≠lio-maternidade para essa crian√ßaüò™.`);
		showAgentMessage('O chat foi encerrado.')
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    } else {
        showAgentMessage(`Certo, clique no link para falar com um de nossos especialistas.`);
		addIndicacao7meses(); // Chama a fun√ß√£o para adicionar o bot√£o
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    }

    // Envia o JSON para a API
    sendChatData(); // Chama a fun√ß√£o que envia os dados
}
	
	function addIndicacao7meses() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Fale com um especialista';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%2C%20acessei%20o%20site.%20Sou%20gestante.%20Minha%20gesta%C3%A7%C3%A3o%20est%C3%A1%20no%20s%C3%A9timo%20m%C3%AAs%20e%20n%C3%A3o%20tenho%20registro%20em%20carteira.%20Gostaria%20de%20falar%20com%20um%20atendente%20para%20saber%20como%20posso%20solicitar%20o%20aux%C3%ADlio%20maternidade.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	
	function askSaude8() {
      var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    buttonsContainer.style.backgroundColor = 'transparent'; // Fundo rosa
    buttonsContainer.style.padding = '5px'; // Espa√ßamento interno
    buttonsContainer.style.borderRadius = '10px'; // Bordas arredondadas

    var btnRegistro = document.createElement('button');
    btnRegistro.innerText = 'Trabalho COM registro em carteira';
    btnRegistro.style.display = 'block'; // Exibe como bloco
    btnRegistro.style.marginBottom = '10px'; // Espa√ßo entre os bot√µes
	 btnRegistro.style.padding = '2px 1px 2px 1px'; // Espa√ßo entre os bot√µes	
    btnRegistro.onclick = function() {
        userData.contrato_trab = 'registro'; // Armazena a resposta
        handleContratoResponse8()// Processa a resposta
    };

    var btnSemRegistro = document.createElement('button');
    btnSemRegistro.innerText = 'Trabalho SEM registro em carteira';
    btnSemRegistro.style.display = 'block'; // Exibe como bloco
    btnSemRegistro.onclick = function() {
        userData.contrato_trab = 'sem registro'; // Armazena a resposta
        handleContratoResponse8(); // Processa a resposta
    };

    buttonsContainer.appendChild(btnRegistro);
    buttonsContainer.appendChild(btnSemRegistro);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	// Fun√ß√£o para lidar com a resposta sobre o tipo de contrato de trabalho
function handleContratoResponse8(idleadqualificado){
    showAgentMessage(`Voc√™ respondeu: ${userData.contrato_trab === 'registro' ? "Trabalho COM registro em carteira" : "Trabalho SEM registro em carteira"}`);
    console.log("Dados armazenados:", userData);

    // Preenche os dados com nulo e false
    userData.meses_gravidez = null;
    userData.filho_menor = false;
    userData.desempregada = false;
    userData.trab_anterior = false;
	userData.agencia_origem = "Walfa1";

  // Verifica o tipo de contrato e gera a mensagem apropriada
    if (userData.contrato_trab === 'registro') {
        showAgentMessage(`Entendi ${userData.nome}, infelizmente, ao analisarmos sua situa√ß√£o atual, voc√™ n√£o pode receber aux√≠lio-maternidade para essa crian√ßaüò™.`);
		showAgentMessage('O chat foi encerrado.')
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    } else {
        showAgentMessage(`Certo, clique no link para falar com um de nossos especialistas.`);
		addIndicacao8meses(); // Chama a fun√ß√£o para adicionar o bot√£o
    }

    // Envia o JSON para a API
    sendChatData(); // Chama a fun√ß√£o que envia os dados
}
	
	function addIndicacao8meses() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Fale com um especialista';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%2C%20acessei%20o%20site.%20Sou%20gestante.%20Minha%20gesta%C3%A7%C3%A3o%20est%C3%A1%20no%20oitavo%20m%C3%AAs%20e%20n%C3%A3o%20tenho%20registro%20em%20carteira.%20Gostaria%20de%20falar%20com%20um%20atendente%20para%20saber%20como%20posso%20solicitar%20o%20aux%C3%ADlio%20maternidade.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	

	function askSaude9() {
      var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    buttonsContainer.style.backgroundColor = 'transparent'; // Fundo rosa
    buttonsContainer.style.padding = '5px'; // Espa√ßamento interno
    buttonsContainer.style.borderRadius = '10px'; // Bordas arredondadas

    var btnRegistro = document.createElement('button');
    btnRegistro.innerText = 'Trabalho COM registro em carteira';
    btnRegistro.style.display = 'block'; // Exibe como bloco
    btnRegistro.style.marginBottom = '10px'; // Espa√ßo entre os bot√µes
    btnRegistro.onclick = function() {
        userData.contrato_trab = 'registro'; // Armazena a resposta
        handleContratoResponse9();
    };

    var btnSemRegistro = document.createElement('button');
    btnSemRegistro.innerText = 'Trabalho SEM registro em carteira';
    btnSemRegistro.style.display = 'block'; // Exibe como bloco
    btnSemRegistro.onclick = function() {
        userData.contrato_trab = 'sem registro'; // Armazena a resposta
        handleContratoResponse9()// Processa a resposta
    };

    buttonsContainer.appendChild(btnRegistro);
    buttonsContainer.appendChild(btnSemRegistro);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	
	// Fun√ß√£o para lidar com a resposta sobre o tipo de contrato de trabalho
function handleContratoResponse9(idleadqualificado) {
    showAgentMessage(`Voc√™ respondeu: ${userData.contrato_trab === 'registro' ? "Trabalho COM registro em carteira" : "Trabalho SEM registro em carteira"}`);
    console.log("Dados armazenados:", userData);

    // Preenche os dados com nulo e false
    userData.meses_gravidez = null;
    userData.filho_menor = false;
    userData.desempregada = false;
    userData.trab_anterior = false;
	userData.agencia_origem = "Walfa1";

    // Verifica o tipo de contrato e gera a mensagem apropriada
    if (userData.contrato_trab === 'registro') {
        showAgentMessage(`Entendi ${userData.nome}, infelizmente, ao analisarmos sua situa√ß√£o atual, voc√™ n√£o pode receber aux√≠lio-maternidade para essa crian√ßaüò™.`);
		showAgentMessage('O chat foi encerrado.')
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    } else {
        showAgentMessage(`Certo, clique no link para falar com um de nossos especialistas.`);
		addIndicacao9meses()// Chama a fun√ß√£o para adicionar o bot√£o
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    }

    // Envia o JSON para a API
    sendChatData(); // Chama a fun√ß√£o que envia os dados
}
	
	function addIndicacao9meses() {
    var buttonContainer = document.createElement('div');
    buttonContainer.style.textAlign = 'center'; // Centraliza o bot√£o

    var button = document.createElement('a');
    button.innerText = 'Fale com um especialista';
    button.href = 'https://api.whatsapp.com/send?phone=5511974656373&text=Ol%C3%A1%2C%20acessei%20o%20site.%20Sou%20gestante.%20Minha%20gesta%C3%A7%C3%A3o%20est%C3%A1%20no%20nono%20m%C3%AAs%20e%20n%C3%A3o%20tenho%20registro%20em%20carteira.%20Gostaria%20de%20falar%20com%20um%20atendente%20para%20saber%20como%20posso%20solicitar%20o%20aux%C3%ADlio%20maternidade.';
    button.target = '_blank'; // Abre o link em uma nova aba
    button.style.display = 'inline-block'; // Para que o estilo funcione
    button.style.padding = '10px 20px'; // Espa√ßamento interno
    button.style.backgroundColor = '#FF69B4'; // Cor de fundo rosa
    button.style.color = '#fff'; // Cor do texto
    button.style.borderRadius = '5px'; // Bordas arredondadas
    button.style.textDecoration = 'none'; // Remove underline

    buttonContainer.appendChild(button);
    document.getElementById('chat-messages').appendChild(buttonContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


function askContrato() {
    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';
    buttonsContainer.style.backgroundColor = 'transparent'; // Fundo rosa
    buttonsContainer.style.padding = '5px'; // Espa√ßamento interno
    buttonsContainer.style.borderRadius = '10px'; // Bordas arredondadas

    var btnRegistro = document.createElement('button');
    btnRegistro.innerText = 'Trabalho COM registro em carteira';
    btnRegistro.style.display = 'block'; // Exibe como bloco
    btnRegistro.style.marginBottom = '10px'; // Espa√ßo entre os bot√µes
    btnRegistro.onclick = function() {
        userData.contrato_trab = 'registro'; // Armazena a resposta
        handleContratoResponse(); // Processa a resposta
    };

    var btnSemRegistro = document.createElement('button');
    btnSemRegistro.innerText = 'Trabalho SEM registro em carteira';
    btnSemRegistro.style.display = 'block'; // Exibe como bloco
    btnSemRegistro.onclick = function() {
        userData.contrato_trab = 'sem registro'; // Armazena a resposta
        handleContratoResponse(); // Processa a resposta
    };

    buttonsContainer.appendChild(btnRegistro);
    buttonsContainer.appendChild(btnSemRegistro);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}


// Fun√ß√£o para lidar com a resposta sobre o tipo de contrato de trabalho
function handleContratoResponse(idleadqualificado) {
    showAgentMessage(`Voc√™ respondeu: ${userData.contrato_trab === 'registro' ? "Trabalho COM registro em carteira" : "Trabalho SEM registro em carteira"}`);
    console.log("Dados armazenados:", userData);

    // Preenche os dados com nulo e false
    userData.meses_gravidez = null;
    userData.filho_menor = false;
    userData.desempregada = false;
    userData.trab_anterior = false;
	userData.agencia_origem = "Walfa1";

    // Verifica o tipo de contrato e gera a mensagem apropriada
    if (userData.contrato_trab === 'registro') {
        showAgentMessage(`Entendi ${userData.nome}, infelizmente, ao analisarmos sua situa√ß√£o atual, voc√™ n√£o pode receber aux√≠lio-maternidade para essa crian√ßaüò™.`);
		showAgentMessage('O chat foi encerrado.')
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    } else {
        showAgentMessage(`Certo, clique no link para falar com um de nossos especialistas.`);
		addSouGestante(); // Chama a fun√ß√£o para adicionar o bot√£o
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    }

    // Envia o JSON para a API
    sendChatData(); // Chama a fun√ß√£o que envia os dados
}

// Fun√ß√£o para enviar os dados para a API
function sendChatData() {
    console.log("Dados captados e prontos para envio:", userData);

    // Comentando a l√≥gica de envio de dados, pois ser√° usado outro endpoint
    /*
    fetch('https://us-central1-materna-prev-344348.cloudfunctions.net/leads-materna-prev', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(userData),
    })
    .then(response => {
        console.log('Response status:', response.status);
        return response.text(); // Recebe o texto da resposta
    })
    .then(text => {
        console.log('Response text:', text);
        // Verifica se o texto √© a mensagem esperada e trata conforme necess√°rio
        if (text === 'Corpo da Requisi√ß√£o recebido, processamento em andamento.') {
            // Aqui voc√™ pode adicionar qualquer a√ß√£o necess√°ria ap√≥s o sucesso
            showConfirmationPopup(); // Mostrar o popup de confirma√ß√£o
        } else {
            console.error('Unexpected response:', text);
        }
    })
    .catch((error) => {
        console.error('Error:', error);
    });
    */
}



// Fun√ß√£o para exibir a resposta da API
function displayApiResponse(data) {
    showAgentMessage(data.response); // Presumindo que 'data.response' cont√©m a mensagem da API
}


// Fun√ß√£o para perguntar sobre filhos menores de 5 anos
function askFilhoMenor() {
    clearPreviousButtons(); // Limpa os bot√µes anteriores

    var buttonsContainer = document.createElement('div');
    buttonsContainer.id = 'buttons-container';

    var btnSim = document.createElement('button');
    btnSim.innerText = 'Sim';
    btnSim.onclick = function() {
        userData.filho_menor = true; // Define filho_menor como true
        handleFilhoMenorResponse(true); // Processa a resposta
    };

    var btnNao = document.createElement('button');
    btnNao.innerText = 'N√£o';
    btnNao.onclick = function() {
        userData.filho_menor = false; // Define filho_menor como false
        handleFilhoMenorResponse(false); // Processa a resposta
    };

    buttonsContainer.appendChild(btnSim);
    buttonsContainer.appendChild(btnNao);
    document.getElementById('chat-messages').appendChild(buttonsContainer);
    document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
}
	




// Fun√ß√£o para lidar com a resposta sobre trabalho anterior
function handleTrabalhoAnteriorResponse(response, idleadqualificado) {
    showAgentMessage(`Voc√™ respondeu: ${response ? "Sim" : "N√£o"}`);
    console.log("Dados armazenados:", userData);

    // Preenche os dados restantes antes de enviar
    userData.meses_gravidez = null;
    userData.contrato_trab = null;
    userData.filho_menor = false;
    userData.desempregada = false;
	userData.agencia_origem = "Walfa1";

    if (response) {
        // Se a resposta for "Sim", mostra a mensagem de direcionamento
        showAgentMessage("Certo, clique no link. Um de nossos especialistas vai continuar seu atendimento.");
		addDesempregada(); // Chama a fun√ß√£o para adicionar o bot√£o
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    } else {
        // Se a resposta for "N√£o", mostra a mensagem de n√£o elegibilidade
        showAgentMessage(`Entendi ${userData.nome}, infelizmente, ao analisarmos sua situa√ß√£o atual, voc√™ n√£o pode receber aux√≠lio-maternidade para essa crian√ßaüò™.`);
		showAgentMessage('O chat foi encerrado.')
		userData.idleadqualificado = idleadqualificado; // Armazenando o ID do lead
    }

    // Envia os dados para a API
    sendChatData(); // Chama a fun√ß√£o que envia os dados
}



// Fun√ß√£o para exibir a resposta da API
function displayApiResponse(data) {
    showAgentMessage(data.response);
}
</script>

<?php wp_footer(); ?>

</body>
</html>
